<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title></title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0/katex.min.css" integrity="sha384-TEMocfGvRuD1rIAacqrknm5BQZ7W7uWitoih+jMNFXQIbNl16bO8OZmylH/Vi/Ei" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0/katex.min.js" integrity="sha384-jmxIlussZWB7qCuB+PgKG1uLjjxbVVIayPJwi6cG6Zb4YKq0JIw+OMnkkEC7kYCq" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0/contrib/auto-render.min.js" integrity="sha256-HkMrKMLKQk4t1R2ofMAcLz72fWM2sshnx6215U+LgU0=" crossorigin="anonymous"></script>
</head>
<body>
  <div id='math'>
$$
f(x)=\frac{n_1(x_1-x)^2 +n_2(x_2-x)^2 + ... + n_p (x_p - x)^2}{N}
$$
$1/N$ is constant

let us expand, for example:
$$
n_1(x_1 - x)^2
=n_1((x_1)^2 - 2(x_1)x + x^2)
$$
if we differentiate this expression, we obtain:
$$
n_1(2x - 2x_1)
$$
In general, for any i in the interval $1...p$.
<p>

if we differentiate $n_i(x_i - x)^2$ we would obtain  $2n_i(x - x_i)$

So, 
$$\begin{aligned}
f'(x) &= \frac{2n_1(x-x_1) + 2n_2(x-x_2) + ... + 2n_p(x-x_p)}{N}\\
&= \frac{2n_1x-2n_1x_1 + 2n_2x-2n_2x_2 + ... + 2n_px-2n_px_p}{N}\\
&= \frac{2x(n_1+n_2+...n_p)}{N} -\frac{2(n_1 x_1+n_2 x_2+...+n_p x_p)}{N}\text{(After some rearranging of terms and then factorizing)}\\
 &= \frac{2xN}{N} -\frac{2(n_1 x_1+n_2 x_2+...+n_p x_p)}{N} \text{(As we have $n_1 + n_2 + ... + n_p = N$)}\\
 &= 2x - 2\frac{(n_1 x_1+n_2 x_2+...+n_p x_p)}{N}\\
 &= 2x - 2\overline{x} \\
 &= 2(x - \overline{x})\\
\end{aligned}
$$
with $\overline{x}$ being the weighted average of the terms

<p>
Remark:
x is a variable and $x_1, x_2, ... x_n$ are well-defined values
To understand the difference:
we can calculate f(t):
$$
f(t)=\frac{n_1(x_1-t)^2 +n_2(x_2-t)^2 + ... + n_p (x_p - t)^2}{N}
$$

    </div>
  <script>
    renderMathInElement(
      document.getElementById('math'),
      {
        delimiters:[
          {left: "$$", right: "$$", display:true}, //REMEMBER: The order of these two lines is important
          {left: "$", right: "$", display:false},

          ]

      }
      );
  </script>
  
</body>
</html>
